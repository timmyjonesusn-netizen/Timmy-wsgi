<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TimmyTime Counter</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="overlay"></div>
  <div class="container">
    <h1>TimmyTime</h1>
    <h2>Now Serving</h2>
    <div id="counter">0</div>
    <h3>of 999,999</h3>

    <div class="buttons">
      <button onclick="openPlaylist(1)">Playlist 1</button>
      <button onclick="openPlaylist(2)">Playlist 2</button>
      <button onclick="openPlaylist(3)">Playlist 3</button>
      <button onclick="openPlaylist(4)">Playlist 4</button>
      <button onclick="openPlaylist(5)">Playlist 5</button>
      <button onclick="openPlaylist('feature')">Feature Track</button>
      <button onclick="openPlaylist('single')">Single Track</button>
    </div>

    <p>App made by iPhone 17</p>
  </div>

  <canvas id="bubbles"></canvas>

  <script>
    // --- Counter ---
    let counter = document.getElementById("counter");
    let count = 0;
    const target = 999999;
    const speed = 2; // Lower = slower start
    const easeIn = 0.02; // Smooth acceleration
    let interval = setInterval(() => {
      count += Math.ceil((target - count) * easeIn);
      if (count >= 123485) clearInterval(interval);
      counter.innerText = count.toLocaleString();
    }, speed * 20);

    // --- Playlists ---
    function openPlaylist(num) {
      const links = {
        1: "https://suno.com/playlist/2ec04889-1c23-4e2d-9c27-8a2b6475da4b",
        2: "https://suno.com/playlist/e95ddd12-7e37-43e2-b3e0-fe342085a19f",
        3: "https://suno.com/playlist/01b65a04-d231-4574-bbb6-713997ca5b44",
        4: "https://suno.com/playlist/457d7e00-938e-4bf0-bd59-f070729200df",
        5: "https://suno.com/playlist/08492edd-e0ba-4aea-a3f8-bb92220b28f2",
        feature: "https://suno.com/playlist/feature",
        single: "https://suno.com/playlist/single"
      };
      window.open(links[num], "_blank");
    }

    // --- Bubbles ---
    const canvas = document.getElementById("bubbles");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const bubbles = [];
    const colors = ["rgba(255, 102, 255, 0.15)", "rgba(255, 128, 0, 0.15)", "rgba(100, 100, 255, 0.15)", "rgba(255, 255, 255, 0.05)"];

    for (let i = 0; i < 50; i++) {
      bubbles.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 20 + 5,
        d: Math.random() * 1.5,
        color: colors[Math.floor(Math.random() * colors.length)]
      });
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      bubbles.forEach(b => {
        ctx.beginPath();
        ctx.arc(b.x, b.y, b.r, 0, Math.PI * 2);
        ctx.fillStyle = b.color;
        ctx.fill();
        b.y -= b.d;
        if (b.y < -b.r) {
          b.y = canvas.height + b.r;
          b.x = Math.random() * canvas.width;
        }
      });
      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>
